<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Hello wasm-pack!</title>
</head>

<body>
  <textarea id="input" cols="200">insert citations here</textarea>
  <button type="button" id="sub">submit</button>
  <p id="output">output goes here</p>
  <script type="module">
    import init, {format_citations} from "./pkg/wasm.js";

    async function run() {

      await init();

      function propogate() {
        document.getElementById("output").innerHTML = format_citations(document.getElementById("input").value);
      }

      document.getElementById("sub").onclick = function () {
        propogate();
      }
    }

    run();

  </script>
</body>

</html>